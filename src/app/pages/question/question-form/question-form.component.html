<app-breadcrumb
    [listaDeItens]="[
        {
            name: 'Questões', link: '/questions', title: 'Lista de questões'
        },
        {
            name: 'Formulário de questão', link:'', title: 'Formulário de questão'
        }
    ]"
></app-breadcrumb>

<div class="mb-3">
    <span class="h2">Formulário de questão</span>
    <button [routerLink]="['/questions']" type="button" class="btn btn-outline-primary float-right"><< Voltar</button>
</div>

<div class="card">

    <div class="card-header">
        <small>Dados da questão</small>
    </div>

    <div class="card-body">
        
        <form [formGroup]="resourceForm" (submit)="submitForm()">

            <div class="form-group">
                <label for="title">Titulo</label>
                <input formControlName="title" [class.is-valid]="isTouchedAndValid('title')" [class.is-invalid]="isInvalidAndTouched('title')"
                    id="title" type="text" class="form-control" placeholder="Digite o titulo">
            </div>
            <div class="form-group">
                <label for="description">Descreva a pergunta</label>
                <textarea formControlName="description" [class.is-valid]="isTouchedAndValid('description')" [class.is-invalid]="isInvalidAndTouched('description')"
                    id="description" cols="20" rows="5" class="form-control" placeholder="Descreva a pergunta da questão"></textarea>
            </div>
            <div class="form-group">
                <label for="response">Resposta</label>
                <input formControlName="response" [class.is-valid]="isTouchedAndValid('response')" [class.is-invalid]="isInvalidAndTouched('response')"
                     type="text" id="response" class="form-control" placeholder="Digite a resposta da questão">
            </div>
            <div class="form-group">
                <label for="options">Opções</label>
                <input formControlName="options" [class.is-valid]="isTouchedAndValid('options')" [class.is-invalid]="isInvalidAndTouched('options')"
                    type="text" id="options" class="form-control" placeholder="Digite as opções da pergunta, separe por , (vírgula)">
            </div>
            <div class="form-group">
                <label for="points">Pontos</label>
                <input formControlName="points" [class.is-valid]="isTouchedAndValid('points')" [class.is-invalid]="isInvalidAndTouched('points')"
                    type="text" id="points" class="form-control" placeholder="Número de pontos para está questão">
            </div>
            <div class="form-group">
                <label for="category">Categoria</label>
                <select formControlName="category_id" [class.is-valid]="isTouchedAndValid('category_id')" [class.is-invalid]="isInvalidAndTouched('category_id')"
                        id="category" class="form-control">
                        <option *ngFor="let category of categories$ | async" [value]="category.id">{{category.name}}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="type">Tipo de resposta</label>
                <select formControlName="type_id" [class.is-valid]="isTouchedAndValid('type_id')" [class.is-invalid]="isInvalidAndTouched('type_id')"
                    id="type" class="form-control">
                    <option *ngFor="let type of typesResponse$ | async" [value]="type.id">{{type.name}}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="quiz">Questionário</label>
                <select formControlName="quiz_id" [class.is-valid]="isTouchedAndValid('quiz_id')" [class.is-invalid]="isInvalidAndTouched('quiz_id')"
                    id="quiz" class="form-control">
                    <option *ngFor="let quiz of quizzes$ | async" [value]="quiz.id">{{quiz.title}}</option>
                </select>
            </div>
            <div class="form-group">
                <button [disabled]="resourceForm.invalid" type="submit" class="btn btn-success float-right">Enviar</button>
            </div>

        </form>

    </div>

</div>